---
description: Coding style guide
globs: 
alwaysApply: false
---
When writing python code, follow truthy conventions like so:

if x:


if not x:



Do not use code like this:
"if 'xxZXZ' in y", string literals in code is dangerous because if the underlying string values change then you are left with excessive amount of work where you have to update each and every individual string literal. 

Use type hints. 


You are prohibited from using dictionary .get methods

You are prohibited from using try/except blocks. 

You should prefer pydantic models over dictionaries. 


Avoid writing code like this:
```
            if "npcs" in self.state:
```

Instead, do this:


try:
    npcs = self.state["npcs"]
Except KeyError:
    pass


Avoid code like this:             if hasattr(npc, "health") and npc.health is not None:


Avoid using hasattr and isinstance. 


Avoid direct string comparisons where possible. 

Avoid excessive or nested if statements which could confuse people reading the code. 